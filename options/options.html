<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="optionsTitle">Tabs Pin Options</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="options-container">
    <!-- Header -->
    <header class="options-header">
      <div class="header-content">
        <div class="logo-section">
          <img src="../assets/icons/icon-48.png" alt="Tabs Pin" class="logo">
          <div class="header-text">
            <h1 data-i18n="optionsTitle">Tabs Pin Options</h1>
            <p data-i18n="manageTabs">Manage Your Pinned Tabs</p>
          </div>
        </div>
        <div class="header-actions">
          <button class="header-btn" id="exportBtn" data-i18n-title="exportSettingsTooltip" title="Export settings">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
            </svg>
            <span data-i18n="exportSettings">Export Settings</span>
          </button>
          <button class="header-btn" id="importBtn" data-i18n-title="importSettingsTooltip" title="Import settings">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
            </svg>
            <span data-i18n="importSettings">Import Settings</span>
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="options-main">
      <!-- Tabs Management Section -->
      <section class="section" id="tabsSection">
        <div class="section-header">
          <h2 class="section-title">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M16,12V4H17V2H7V4H8V12L6,14V16H11.2V22H12.8V16H18V14L16,12Z"/>
            </svg>
            <span data-i18n="manageTabs">Manage Your Pinned Tabs</span>
          </h2>
          <button class="primary-btn" id="addTabBtn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"/>
            </svg>
            <span data-i18n="addNewTab">Add New Tab</span>
          </button>
        </div>

        <div class="tabs-container">
          <div class="tabs-grid" id="tabsGrid">
            <!-- Tabs will be populated dynamically -->
          </div>
          
          <div class="empty-tabs" id="emptyTabs" style="display: none;">
            <div class="empty-icon">üìå</div>
            <h3 data-i18n="noTabsConfigured">No tabs configured</h3>
            <p data-i18n="configureTabsMessage">Configure your favorite tabs to get started.</p>
            <button class="primary-btn" id="addFirstTabBtn">
              <span data-i18n="addNewTab">Add New Tab</span>
            </button>
          </div>
        </div>
      </section>

      <!-- Categories Management Section -->
      <section class="section" id="categoriesSection">
        <div class="section-header">
          <h2 class="section-title">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z"/>
            </svg>
            <span data-i18n="manageCategories">Manage Categories</span>
          </h2>
          <button class="secondary-btn" id="resetCategoriesBtn">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"/>
            </svg>
            <span data-i18n="resetCategories">Reset to Default</span>
          </button>
        </div>

        <div class="categories-grid" id="categoriesGrid">
          <!-- Categories will be populated dynamically -->
        </div>
      </section>

    <!-- Footer -->
    <footer class="options-footer">
      <div class="footer-content">
        <p class="footer-text">
          <span data-i18n="footerCreatedBy">Cr√©√© par Alexandre with</span> <span class="heart">‚ù§Ô∏è</span>
        </p>
      </div>
    </footer>
  </div>

  <!-- Tab Edit Modal -->
  <div class="modal-overlay" id="tabModalOverlay" style="display: none;">
    <div class="modal" id="tabModal">
      <div class="modal-header">
        <h3 class="modal-title" id="tabModalTitle" data-i18n="addNewTab">Add New Tab</h3>
        <button class="modal-close" id="closeTabModal" aria-label="Close">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
          </svg>
        </button>
      </div>
      
      <div class="modal-content">
        <form id="tabForm">
          <div class="form-group">
            <label for="tabUrl" data-i18n="tabUrl">Tab URL</label>
            <input 
              type="url" 
              id="tabUrl" 
              class="form-input" 
              data-i18n-placeholder="urlPlaceholder"
              placeholder="https://example.com"
              required
            >
          </div>
          
          <div class="form-group">
            <label for="tabTitle" data-i18n="tabTitle">Tab Title (optional)</label>
            <input 
              type="text" 
              id="tabTitle" 
              class="form-input"
              data-i18n-placeholder="titlePlaceholder"
              placeholder="My Favorite Site"
            >
          </div>
          
          <div class="form-group">
            <label for="tabCategory" data-i18n="tabCategory">Category</label>
            <select id="tabCategory" class="form-select">
              <!-- Categories will be populated dynamically -->
            </select>
          </div>
          
          <div class="form-actions">
            <button type="button" class="secondary-btn" id="cancelTabBtn" data-i18n="cancel">Cancel</button>
            <button type="submit" class="primary-btn" id="saveTabBtn" data-i18n="saveTab">Save Tab</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Category Edit Modal -->
  <div class="modal-overlay" id="categoryModalOverlay" style="display: none;">
    <div class="modal" id="categoryModal">
      <div class="modal-header">
        <h3 class="modal-title" id="categoryModalTitle" data-i18n="editCategory">Edit Category</h3>
        <button class="modal-close" id="closeCategoryModal" aria-label="Close">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
          </svg>
        </button>
      </div>
      
      <div class="modal-content">
        <form id="categoryForm">
          <div class="form-group">
            <label for="categoryName" data-i18n="categoryName">Category Name</label>
            <input 
              type="text" 
              id="categoryName" 
              class="form-input"
              data-i18n-placeholder="categoryNamePlaceholder"
              placeholder="Enter category name"
              required
            >
          </div>
          
          <div class="form-group">
            <label for="categoryIcon" data-i18n="categoryIcon">Category Icon</label>
            <div class="icon-selector">
              <button type="button" class="icon-selector-btn" id="iconSelectorBtn">
                <span class="selected-icon" id="selectedIcon">üìÅ</span>
                <svg class="icon-selector-arrow" width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M7,10L12,15L17,10H7Z"/>
                </svg>
              </button>
            </div>
            <p class="form-help" data-i18n="categoryIconHelp">Choose an emoji to represent this category</p>
          </div>
          
          <div class="form-actions">
            <button type="button" class="secondary-btn" id="cancelCategoryBtn" data-i18n="cancel">Cancel</button>
            <button type="submit" class="primary-btn" id="saveCategoryBtn" data-i18n="saveCategory">Save Category</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- File input for import -->
  <input type="file" id="importFileInput" accept=".json" style="display: none;">

  <!-- Icon Picker Modal -->
  <div class="modal-overlay" id="iconPickerOverlay" style="display: none;">
    <div class="modal icon-picker-modal" id="iconPickerModal">
      <div class="modal-header">
        <h3 class="modal-title" data-i18n="selectCategoryIcon">Select Category Icon</h3>
        <button class="modal-close" id="closeIconPicker" aria-label="Close">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
          </svg>
        </button>
      </div>
      
      <div class="modal-content">
        <div class="icon-picker-search">
          <div class="search-input-container">
            <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
              <path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"/>
            </svg>
            <input type="text" class="search-input" id="iconSearchInput" placeholder="Search icons..." data-i18n-placeholder="searchIcons">
          </div>
        </div>
        
        <div class="icon-categories">
          <button class="icon-category-btn" data-category="recent" data-i18n="recent">Recent</button>
          <button class="icon-category-btn active" data-category="objects" data-i18n="objects">Objects</button>
          <button class="icon-category-btn" data-category="symbols" data-i18n="symbols">Symbols</button>
          <button class="icon-category-btn" data-category="activities" data-i18n="activities">Activities</button>
          <button class="icon-category-btn" data-category="nature" data-i18n="nature">Nature</button>
          <button class="icon-category-btn" data-category="food" data-i18n="food">Food</button>
        </div>
        
        <div class="icon-grid" id="iconGrid">
          <!-- Icons will be populated dynamically -->
        </div>
      </div>
    </div>
  </div>

  <!-- Toast notification -->
  <div class="toast" id="toast">
    <div class="toast-content">
      <span class="toast-icon" id="toastIcon"></span>
      <span class="toast-message" id="toastMessage"></span>
    </div>
  </div>

  <script src="options.js"></script>
</body>
</html>

<!-- Category Quick Edit Popover Template -->
<div id="categoryQuickEditPopoverTemplate" class="category-quick-edit-popover" style="display: none;">
  <select class="popover-category-select"></select>
  <div class="popover-actions">
    <button class="popover-confirm-btn" title="Confirm">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/></svg>
    </button>
    <button class="popover-cancel-btn" title="Cancel">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
    </button>
  </div>
</div>
